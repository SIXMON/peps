{% load static %}
{% load tz %}
<!DOCTYPE html>
<html>

<head>
    <title>Peps</title>

    <!-- jquery -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <!-- handlebars -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script>

    <!-- moment -->
    <script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>

    <!-- bootstrap -->
    <link type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <!-- datetime picker -->
    <script type="text/javascript" src="{% static 'js/bootstrap-datetimepicker.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/bootstrap-datetimepicker.min.css' %}">

    <!-- alpaca -->
    <link type="text/css" href="//cdn.jsdelivr.net/npm/alpaca@1.5.27/dist/alpaca/bootstrap/alpaca.min.css"
        rel="stylesheet" />
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/alpaca@1.5.27/dist/alpaca/bootstrap/alpaca.js"></script>


    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto&display=swap" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}" />

    <link rel="stylesheet" href="{% static 'css/app.css' %}?1573834626">

    <script type="text/javascript"> window.CSRF_TOKEN = "{{ csrf_token }}"; </script>

</head>

<div class="nav-bar">
    <header class="">
        <div class="nav-title">Peps</div>
        <nav class="nav-links">
            <a class="nav-link" target="_blank" href="https://www.peps.beta.gouv.fr/qui-sommes-nous">Qui sommes-nous
                ?</a>
            <a class="nav-link" target="_blank" href="mailto:peps@beta.gouv.fr">Contacter l'équipe</a>
        </nav>
    </header>
</div>

<div class="modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" id="loadingModal">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle"></h5>
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40"
                        aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                    </div>
                </div>
                <div id="modalBody">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" id="tryModal">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h5 class="modal-title" id="try-modal-title">Cette pratique vous interesse ?</h5>
            </div>
            <div class="modal-body">
                <div>Quelles informations ou actions vous semblent nécessaires afin de vous décider sur le test de cette
                    pratique (il est possible de sélectionner plusieurs items) :</div>

                <div id="try-problem" class="list-group">
                    <div class="radio"><label><input name="problemRadios" value="Échanger avec un conseiller"
                                id="problem-conseiller" type="radio"><span class="glyphicon glyphicon-briefcase"
                                aria-hidden="true"></span> Échanger avec un conseiller</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Avoir le retour d'expérience d'un agriculteur l'ayant déjà mis en place"
                                id="problem-farmer" type="radio"><span class="glyphicon glyphicon-user"
                                aria-hidden="true"></span> Avoir le retour d'expérience d'un agriculteur l'ayant déjà
                            mis en place</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Obtenir plus de documentation technique et un protocole de test" id="problem-doc"
                                type="radio"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Obtenir
                            plus de documentation technique et un protocole de test</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Connaitre les aides disponibles pour cette pratique" id="problem-aides"
                                type="radio"><span class="glyphicon glyphicon-send" aria-hidden="true"></span>
                            Connaitre les aides disponibles pour cette pratique</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Connaitre les cahiers des charges incluant cette pratique" id="problem-cahiers"
                                type="radio"><span class="glyphicon glyphicon-file" aria-hidden="true"></span>
                            Connaitre les cahiers des charges incluant cette pratique</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Avoir une estimation du risque économique pris" id="problem-risque"
                                type="radio"><span class="glyphicon glyphicon-euro" aria-hidden="true"></span>
                            Avoir une estimation du risque économique pris</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Chercher les débouchés disponibles pour cette nouvelle culture"
                                id="problem-debouches" type="radio"><span class="glyphicon glyphicon-thumbs-up"
                                aria-hidden="true"></span>
                            Chercher les débouchés disponibles pour cette nouvelle culture</label></div>

                    <div class="radio"><label><input name="problemRadios"
                                value="Connaitre le matériel nécessaire et disponible" id="problem-materiel"
                                type="radio"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                            Connaitre le matériel nécessaire et disponible</label></div>

                    <div class="radio"><label><input name="problemRadios" value="Autre" id="problem-none"
                                type="radio"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
                            Autre</label></div>
                </div>

                <div>Ces informations nous permettront d'aller plus loin dans la compréhension des freins à la mise en place de pratiques alternatives. Pouvons-nous vous contacter afin d'approfondir ces sujets avec vous ?</div>


                <div class="try-modal-form">
                    <div class="input-group">
                        <div class="input-group-addon"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        </div>
                        <input type="text" class="form-control" id="nameField" placeholder="* Nom et prénom">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon"><span class="glyphicon glyphicon-envelope"
                                aria-hidden="true"></span>
                        </div>
                        <input type="email" class="form-control" id="emailField" placeholder="* Adresse email">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon"><span class="glyphicon glyphicon-earphone"
                                aria-hidden="true"></span>
                        </div>
                        <input type="text" class="form-control" id="phoneField" placeholder="* Numéro téléphone">
                    </div>
                </div>

                <div>Quelle jour seriez-vous disponible pour être contacté par notre équipe ?</div>

                <div class="try-modal-form">
                    <div class="input-group">
                        <div class="input-group-addon"><span class="glyphicon glyphicon-calendar"
                                aria-hidden="true"></span>
                        </div>
                        <input type="text" class="form-control" id="dateTimeField" placeholder="Créneau horaire"
                            style="border-radius: 0px 5px 5px 0px;">
                        <script type="text/javascript">
                            $(function () {
                                $('#dateTimeField').datetimepicker({
                                    daysOfWeekDisabled: [0, 6],
                                    locale: 'fr',
                                    format: 'dddd, MMMM Do YYYY, H:mm',
                                    minDate: moment(),
                                    defaultDate: moment().add(1, 'days'),
                                });
                            });
                        </script>
                    </div>
                </div>


                <div class="modal-button-group">
                    <button type="button" id="try-modal-close" class="btn btn-default">Annuler</button>
                    <button type="button" id="try-modal-confirm" class="btn btn-success">Confirmer</button>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" id="discardModal">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h5 class="modal-title" id="discard-modal-title">Cette pratique n'est pas pertinente ?</h5>
            </div>
            <div class="modal-body">

                <div id="discard-reason" class="list-group">
                    <div class="radio"><label><input name="discardReasonRadios"
                                value="J'ai déjà prévu de mettre en place cette pratique" id="reason-known"
                                type="radio"> J'ai déjà prévu de mettre en place cette pratique</label></div>
                    <div class="radio"><label><input name="discardReasonRadios"
                                value="Cette pratique a été testée ou est en place sur mon exploitation"
                                id="reason-test" type="radio"> Cette pratique a été testée ou est en place sur mon
                            exploitation</label></div>
                    <div class="radio"><label><input name="discardReasonRadios"
                                value="Cette pratique n’est pas applicable pour mon exploitation"
                                id="reason-applicability" type="radio"> Cette pratique n’est pas applicable pour mon
                            exploitation</label></div>
                    <div class="radio"><label><input name="discardReasonRadios" value="Autre" id="reason-other"
                                type="radio"> Autre</label></div>
                </div>

                <div class="modal-button-group">
                    <button type="button" id="discard-modal-close" class="btn btn-default">Annuler</button>
                    <button type="button" id="discard-modal-confirm" class="btn btn-success">Confirmer</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="content" class="mdl-cell--8-col mdl-cell--2-offset" style="display:none;">
    <div id="info-results" class="well info" style="display:none;">🌱 Vous trouverez ci-dessous les trois pratiques que
        nous avons sélectionnées pour votre problématique.</div>
    <div id="forms-container">
        <div id="info-form" class="well info" style="display:none;">Vos réponses à ces questions vont permettre
            d'identifier trois pratiques alternatives adaptées à votre problématiques ainsi qu'à votre exploitation
        </div>
        <div class="form" id="form"></div>

        <div id="info-form-stats" class="well info" style="display:none;">Peps est en étape d'expérimentation. Afin
            d'améliorer le service, cela nous aiderait grandement d'en savoir un peu plus sur vous.
        </div>
        <div class="form" id="form-stats"></div>

        <div id="info-form-contact" class="well info" style="display:none;">Notre équipe pourrait éventuellement être
            amenée à
            vous contacter pour avoir votre avis sur Peps et discuter davantage des pratiques adaptées pour votre
            situation</div>
        <div class="form" id="form-contact"></div>
    </div>
    <div id=submit-items>
        <button id="submit" disabled="">Trouver des pratiques alternatives<div class="spacer" style="clear: both;">
            </div></button>
        <div id="missing-answers"><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> Répondez
            à toutes les questions ci-dessus pour continuer</div>
    </div>

    <div id="results" style="display:none;"></div>
    <div id='footer'>
        <img class="betagouv-logo" src="{% static 'images/betagouv.png' %}">
        <div>Peps 2019</div>
        <div id="social-media">
            <a target="_blank" href="https://twitter.com/pepsagriculture"><img
                    src="{% static 'images/twitter.png' %}"></a>
            <a target="_blank" href="https://www.facebook.com/pepsagriculture/"><img
                    src="{% static 'images/facebook.png' %}"></a>
        </div>
    </div>
</div>

<script type="text/javascript" src="{% static 'js/script.js' %}?1573834626"></script>
<hr>
</body>

</html>